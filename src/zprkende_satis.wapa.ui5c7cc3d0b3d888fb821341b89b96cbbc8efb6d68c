sap.ui.define([                                                                                                                                                                                                                                                
    "sap/ui/core/mvc/Controller",                                                                                                                                                                                                                              
    "sap/ui/model/json/JSONModel",                                                                                                                                                                                                                             
    "sap/ui/model/resource/ResourceModel",                                                                                                                                                                                                                     
    "sap/m/MessageBox",                                                                                                                                                                                                                                        
],                                                                                                                                                                                                                                                             
    /**                                                                                                                                                                                                                                                        
     * @param {typeof sap.ui.core.mvc.Controller} Controller                                                                                                                                                                                                   
     */                                                                                                                                                                                                                                                        
    function (Controller, JSONModel, ResourceModel,MessageBox) {                                                                                                                                                                                               
        "use strict";                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
        return Controller.extend("test.controller.View2", {                                                                                                                                                                                                    
            onInit: function () {                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
                var oModelSepet = this.getOwnerComponent().getModel("AddBasket")                                                                                                                                                                               
                var sepettekiUrunler = oModelSepet.getProperty("/sepet/sepet");                                                                                                                                                                                
                if (sepettekiUrunler) {                                                                                                                                                                                                                        
                  sepettekiUrunler.forEach(function (item) {                                                                                                                                                                                                   
                    item.DiscountedTutar = item.tutar;                                                                                                                                                                                                         
                    item.BirimDiscountedTutar = item.Tutar;                                                                                                                                                                                                    
                  });                                                                                                                                                                                                                                          
                } else {                                                                                                                                                                                                                                       
                  // If the basket is empty, navigate to "view1" and reset everything                                                                                                                                                                          
                  this.getOwnerComponent().getRouter().navTo("RouteView1", {}, true);                                                                                                                                                                          
                };                                                                                                                                                                                                                                             
                 // set i18n model on view       test.i18n.i18n                                                                                                                                                                                                
        const i18nModel = new ResourceModel({                                                                                                                                                                                                                  
            bundleName: "test.i18n.i18n",                                                                                                                                                                                                                      
          });                                                                                                                                                                                                                                                  
          this.getView().setModel(i18nModel, "i18n");                                                                                                                                                                                                          
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
            },                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
            onAfterRendering: function () {                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
            },                                                                                                                                                                                                                                                 
            goMainMenu: function () {                                                                                                                                                                                                                          
                this.getView().byId("idNameInput").setValue("");                                                                                                                                                                                               
                this.getView().byId("idPassInput").setValue("");&nbsp;&nbsp;&nbsp;                                                                                                                                                                             
                setTimeout(() => {                                                                                                                                                                                                                             
                    this.getOwnerComponent().getRouter().navTo("RouteView1", {                                                                                                                                                                                 
                      param: "test",                                                                                                                                                                                                                           
                    });                                                                                                                                                                                                                                        
                  }, 200);                                                                                                                                                                                                                                     
            },                                                                                                                                                                                                                                                 
            onLoginButtonPress: function () {                                                                                                                                                                                                                  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                               
                var oModelSepet  = this.getOwnerComponent().getModel("AddBasket");                                                                                                                                                                             
                var oModelSales  = this.getOwnerComponent().getModel("AddBasket");                                                                                                                                                                             
                var personelNo = this.getView().byId("idNameInput").getValue();                                                                                                                                                                                
                var pass = this.getView().byId("idPassInput").getValue();                                                                                                                                                                                      
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                               
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                               
                var oModel = this.getView().getModel();                                                                                                                                                                                                        
                var sPath = `/PersonelGirisSet(PersonelNo='${personelNo}',Sifre='${pass}')`;                                                                                                                                                                   
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                               
                this.getView().setBusy(true);                                                                                                                                                                                                                  
                oModel.read(sPath, {                                                                                                                                                                                                                           
                    success: function (oData) {                                                                                                                                                                                                                
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                             
                        oData.ReturnType === "S" ? sap.m.MessageToast.show(this.getMessageFromi18n("loginSuccess")) : null;                                                                                                                                    
                        var payload = {                                                                                                                                                                                                                        
                            PersonelNo: oData.PersonelNo,                                                                                                                                                                                                      
                            BolgeAdi: oData.BolgeAdi,                                                                                                                                                                                                          
                            PersonelName: oData.PersonelAdi,                                                                                                                                                                                                   
                            MagazaKod: oData.BolgeNo,                                                                                                                                                                                                          
                        };                                                                                                                                                                                                                                     
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                 
                        oModelSales.setProperty("/Salesman", payload);                                                                                                                                                                                         
                        oModelSepet.setProperty("/Env", oData.Sistem);                                                                                                                                                                                         
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                               
                                                                                                                                                                                                                                                               
                        // oModelSales.setProperty("/Salesman/selectedSalesman", payload);                                                                                                                                                                     
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                               
                        setTimeout(() => {                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
                            this.getView().byId("idNameInput").setValue("");                                                                                                                                                                                   
                            this.getView().byId("idPassInput").setValue("");&nbsp;&nbsp;&nbsp;                                                                                                                                                                 
                            if(oData.ReturnType === "S"){                                                                                                                                                                                                      
                              this.getOwnerComponent().getRouter().navTo("RouteView3");                                                                                                                                                                        
                            }                                                                                                                                                                                                                                  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                       
                            this.getView().setBusy(false);                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
                        }, 1000);                                                                                                                                                                                                                              
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                               
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                               
                        this.getOwnerComponent().getRouter().navTo("RouteView3", {                                                                                                                                                                             
                          param: "test",                                                                                                                                                                                                                       
                        });                                                                                                                                                                                                                                    
                    }.bind(this),                                                                                                                                                                                                                              
                    error: function (oError) {                                                                                                                                                                                                                 
                        sap.m.MessageToast.show(this.getMessageFromi18n("loginError"));                                                                                                                                                                        
                        this.getView().byId("idPassInput").setValue("");                                                                                                                                                                                       
                        this.getView().setBusy(false);                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
                    }.bind(this),                                                                                                                                                                                                                              
                  });                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                                                             
                // this.getOwnerComponent().getRouter().navTo("RouteView3");                                                                                                                                                                                   
            },                                                                                                                                                                                                                                                 
             //Bu method i18n deki metni text olarak getirmek iÃ§in kullanÄ±lÄ±r.                                                                                                                                                                              
      getMessageFromi18n: function (sKey) {                                                                                                                                                                                                                    
        // read msg from i18n model                                                                                                                                                                                                                            
        const oBundle = this.getView().getModel("i18n").getResourceBundle();                                                                                                                                                                                   
        var sMessage = oBundle.getText(sKey);                                                                                                                                                                                                                  
        return sMessage;                                                                                                                                                                                                                                       
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
            encryptAES: function (value) {                                                                                                                                                                                                                     
                // Your AES encryption logic goes here                                                                                                                                                                                                         
                // Replace this with your actual AES encryption implementation                                                                                                                                                                                 
                // Example: var encryptedValue = aesEncrypt(value);                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
                return encryptedValue;                                                                                                                                                                                                                         
            }                                                                                                                                                                                                                                                  
        });                                                                                                                                                                                                                                                    
    });                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               